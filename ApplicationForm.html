<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embedded Generator Form</title>

    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-image: url('assets/backgroundImage.jpg'); /* Add your background image here */
            background-size: cover;
            background-attachment: fixed; /* Make the background fixed */
        }
        .header {
            background-color: rgba(255, 255, 255);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            height: 65px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .form-title {

            font-size: 12px; /* Smaller font size */
            text-align: center;
            padding-top: 10px; /* Reduced margin */
        }

        .form-container {
            width: 600px;
            margin: auto;
            flex: 1;
            overflow-y: auto; /* Allow scrolling */
            padding: 10px;
        }
        .section {
            margin-bottom: 10px;
            background-color: #ffffff;
            border-radius: 5px;
        }
        .section-title {
            background-color: #f1f1f1;
            padding: 10px;
            cursor: not-allowed; /* Initially disabled cursor */
            pointer-events: none; /* Disable click */
            color: gray; /* Dimmed text */
        }
        .section-content {
            display: none;
            padding: 10px;
            flex-direction: column;

        }
        select {
            width: 95%;
            padding: 10px;
            margin-left: 20px;
            margin-top: 10px;
            margin-bottom: 0px; /* Space between the input fields */
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            margin-top: 0px;
            margin-left: 200px;
            width: 30%;
            height: 30px;
            background-color: gray; /* Default button color */
            color: white;
            cursor: not-allowed;
        }

        button.active {
            background-color: green; /* Button becomes green when active */
            cursor: pointer;
        }

        /* Project Name Label */
        .project-name-content {
            margin-top: 30px;
            margin-left: 2px;
            margin-bottom: 20px; /* Space below the standalone input */
        }
        /* Project Name Label */
        .project-name-content label {
            font-weight: bold; /* Make label bold */
            margin-left: 25px;
            padding-bottom: 15px;
        }
         .project-name-content input {
            width: 90%;
            padding: 10px;
            margin-left: 20px;
            margin-top: 10px;
            margin-bottom: 0px; /* Space between the input fields */
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        /* Input Field Spacing */
        .section-content label {
            display: block;
            margin-bottom: 10px;
            margin-left: 25px;
        }

        .section-content input[type="text"],
        .section-content input[type="email"] {
            width: 90%;
            padding: 10px;
            margin-left: 20px;
            margin-bottom: 15px; /* Space between the input fields */
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .footer {
            background-color: rgba(255, 255, 255); /* Semi-transparent footer */
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.3);
            padding: 20px;
            text-align: center;
        }
    .select-container {
        position: relative;
    }

    .select-container::after {
        content: '▼'; /* Custom arrow */
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none; /* Prevent interaction with the arrow */
    }
    /* Label styles */
.section-content label {
    margin-top: 0px;
}

/* Input field styles */
.section-content input[type="text"] {
    width: 91%;
    padding: 10px;
    margin-left: 20px;
    margin-bottom: 15px; /* Space below the input field */
    border: 1px solid #ccc;
    /* border-radius: 4px;
    font-size: 16px; /* Increase font size for better readability */
    transition: border-color 0.3s; /* Smooth border transition */
} */
    </style>
</head>
<body>

<div class="header"></div>

<div class="form-container">

    <div class="section" id="section1">
        <div class="form-title">
            <h1>SMALL-SCALE EMBEDDED GENERATION APPLICATION</h1>
        </div>

        <div class="project-name-content">
            <label for="standaloneInput">Project Name:</label><br>
            <input type="text" id="standaloneInput" required oninput="checkProjectName()">
        </div>

        <div class="section-title" id="section1Title" onclick="toggleSection('section1')">
            <span class="toggle-sign">+</span> Section 1: Property Owner details
        </div>

        <div class="section-content">
            <label for="name">Name:</label>
            <input type="text" id="name" required oninput="validateSection(1)"><br>
            <label for="accNum">Municipality Number:</label>
            <input type="text" id="municipalityNumber" required pattern="^[0-9]+$" required oninput="validateSection(1)"><br>
            <label for="cellnumber">Cellphone Number:</label>
            <input type="text" id="phonenumber" required oninput="validateSection(1)"><br>
            <label for="email">Email Address:</label>
            <input type="email" id="email" required oninput="validateSection(1)"><br>
            <button id="section1Button" onclick="completeSection(1)" disabled>Complete Section</button>
        </div>

    </div>

    <div class="section" id="section2" style="display:none;">
        <div class="section-title" id="section2Title" onclick="toggleSection('section2')">
            <span class="toggle-sign">+</span> Applicant details (if different from Property Owner)
        </div>
        <div class="section-content">
            <div class="section" id="section2" style="display:none;">
    <div class="section-title" id="section2Title" onclick="toggleSection('section2')">
        <span class="toggle-sign">+</span> Applicant details (if different from Property Owner)
    </div>
    <div class="section-content">
        <label for="applicantName">Name:</label>
        <input type="text" id="applicantName" required readonly><br>
        <label for="applicantId">ID number (if an individual): </label>
        <input type="text" id="applicantId" required readonly pattern="^[0-9]+$"><br>
        <label for="applicantPhone">Cellphone Number: </label>
        <input type="text" id="applicantPhone" required readonly><br>
        <label for="applicantEmail">Email Address: </label>
        <input type="email" id="applicantEmail" required readonly><br>
        <button id="section2Button" onclick="completeSection(2)" disabled>Complete Section</button>
    </div>
</div>
            <button id="section2Button" onclick="completeSection(2)" disabled>Complete Section</button>
        </div>
    </div>
    <div class="section" id="section3" style="display:none;">
        <div class="section-title" id="section3Title" onclick="toggleSection('section3')">
            <span class="toggle-sign">+</span> Section 2 : Property Details
        </div>
        <div class="section-content">
            <label for="erfNum">Erf Number:</label>
            <input type="text" id="erfNum" required><br>
            <label for="municipalAccountNum">Electricity/Municipal Number:</label>
            <input type="text" id="municipalAccountNum" required><br>
            <label for="physicalAddress">Physical Address:</label>
            <input type="text" id="physicalAddress" required><br>
            <label for="propertyType">Property Type (choose R for Residential, B for Business, C for Commercial, or A for Agricultural):</label>
            <input type="text" id="propertyType" required><br>
            <label for="currentConnectionCapacity">Current Connection Capacity:</label>
            <input type="text" id="currentConnectionCapacity" required><br>
            <label for="circuitBreakerSize1">Circuit Breaker Size (Single Phase):</label>
            <input type="text" id="circuitBreakerSize1" required><br>
            <label for="circuitBreakerSize2">Circuit Breaker Size (Three Phase):</label>
            <input type="text" id="circuitBreakerSize2" required><br>
            <label for="notifiedMaxDemand">Notified Maximum Demand (NDM):</label>
            <input type="text" id="notifiedMaxDemand" required><br>
            <label for="currentTariff">Current Tariff:</label>
            <input type="text" id="currentTariff" required><br>
            <label for="meterNum">Meter Number:</label>
            <input type="text" id="meterNum" required><br>
            <button onclick="completeSection(3)">Complete Section</button>
        </div>
    </div>
    <div class="section" id="section4" style="display:none;">
        <div class="section-title" id="section3Title" onclick="toggleSection('section3')">
            <span class="toggle-sign">+</span> Section 3: Embedded Generator (EG) details
        </div>
        <div class="section-content">
            <label for="name">Fuel Source for Embedded Generator: </label>
            <select id="name" required onchange="validateSection(4)">
                <option value="" disabled selected>Select fuel source for Embedded Generator (EG)</option>
                <option value="name1">Solar</option>
                <option value="name2">Hydro</option> 
                <option value="name3">Gas</option>
                <option value="name4">Coal</option>
                <option value="name5">Bagasse</option> 
                <option value="name6">Other</option>
                <!-- Add more options as needed -->
            </select><br>
            <br>

            <label for="name">Total Capacity of Embedded Generator system (kVA and PF):</label>
            <input type="text" id="name" required oninput="validateSection(4)"><br>

            <label for="name">Type of energy conversion</label>
            <select id="name" required onchange="validateSection(5)">
                <option value="" disabled selected>Select type of energy conversion: </option>
                <option value="name1">Synchronous Generator</option>
                <option value="name2">Asynchronous/Induction </option> 
                <option value="name3">Generator </option>
                <option value="name4">Inverter</option>
                <option value="name5">Fuel Cells</option> 
                <!-- Add more options as needed -->
            </select><br>
            <br>

            <label for="name">Mode of Embedded Generation:</label>
            <select id="name" required onchange="validateSection(6)">
                <option value="" disabled selected>Please type of energy conversion: </option>
                <option value="name1">Energy from Embedded Generation to be used within a consumer's electricity network.</option>
                <option value="name2">Energy from Embedded Generation to be used within a consumer's electricity network and excess to be exported to City of Tshwane Electricity's distribution
                network. </option> 
                <option value="name3">Energy from Embedded Generation to be used solely for exporting to City of Tshwane’s Electricity’s distribution network </option>
                <option value="name4">Energy from Embedded Generation to be used solely for wheeling to third
                    party through City of Tshwane's Electricity's distribution network.</option> 
                <!-- Add more options as needed -->
            </select><br>
            <br>
            <label for="name">Embedded Generation system with storage </label>
            <input type="text" id="name" required oninput="validateSection(7)"><br>

            <button onclick="completeSection(8)" disabled>Complete Section</button>
        </div>
    </div>
</div>

<div class="footer">
    <p>Footer Information Here</p>
</div>

<script>
    function toggleSection(sectionId) {
        const section = document.getElementById(sectionId);
        const content = section.querySelector('.section-content');
        const toggleSign = section.querySelector('.toggle-sign');

        if (content.style.display === 'none' || content.style.display === '') {
            content.style.display = 'block';
            toggleSign.textContent = '−';
        } else {
            content.style.display = 'none';
            toggleSign.textContent = '+';
        }
    }

    function validateSection(sectionNumber) {
    const section = document.getElementById(`section${sectionNumber}`);
    const inputs = section.querySelectorAll('input[required]');
    const allFilled = Array.from(inputs).every(input => input.value.trim() !== '');

    // Getting information from the user
    const nameInput = document.getElementById('name'); // Adjust according to your IDs
    const municipalityNumberInput = document.getElementById('municipalityNumber');
    const cellphoneInput = document.getElementById('phonenumber');
    const emailInput = document.getElementById('email');
    
    // Additional validations
    const isNameValid = /^[a-zA-Z\s]+$/.test(nameInput.value); // Allows letters and spaces only
    const isMunicipalityNumberValid = /^[0-9]{11}$/.test(municipalityNumberInput.value);
    const isCellphoneValid = /^(0[6-9][0-9]{8})$/.test(cellphoneInput.value);
    const isEmailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value); // Basic email validation

    // Check if all validations pass
    const isValid = allFilled && isNameValid && isMunicipalityNumberValid && isCellphoneValid && isEmailValid;

    const button = document.getElementById(`section${sectionNumber}Button`);
    if (isValid) {
        button.disabled = false;
        button.classList.add('active'); // Turn button green
    } else {
        button.disabled = true;
        button.classList.remove('active'); // Revert button to default
    }
}

function completeSection(sectionNumber) {
    const nextSection = document.getElementById(`section${sectionNumber + 1}`);
    if (nextSection) {
        nextSection.style.display = 'block';
        const inputs = nextSection.querySelectorAll('input');
        inputs.forEach(input => input.disabled = false);
        const button = nextSection.querySelector('button');
        button.disabled = false;
    }

    const currentSection = document.getElementById(`section${sectionNumber}`);
    currentSection.querySelector('.section-content').style.display = 'none';

    if (sectionNumber === 1) {
        // Automatically show Section 2 and 3 after Section 1 is completed
        document.getElementById('section2').style.display = 'block';
        document.getElementById('section3').style.display = 'block';
    } else if (sectionNumber === 2) {
        // Automatically show Section 3 after Section 2 is completed
        document.getElementById('section3').style.display = 'block';
    }
}


function completeSection(sectionNumber) {
    const nextSection = document.getElementById(`section${sectionNumber + 1}`);
    if (nextSection) {
        nextSection.style.display = 'block';
        const inputs = nextSection.querySelectorAll('input');
        inputs.forEach(input => input.disabled = false);
        const button = nextSection.querySelector('button');
        button.disabled = false;
    }

    const currentSection = document.getElementById(`section${sectionNumber}`);
    currentSection.querySelector('.section-content').style.display = 'none';

    if (sectionNumber === 1) {
        // Automatically show Section 2 and 3 after Section 1 is completed
        document.getElementById('section2').style.display = 'block';
        document.getElementById('section3').style.display = 'block';
    } else if (sectionNumber === 2) {
        // Automatically show Section 3 after Section 2 is completed
        document.getElementById('section3').style.display = 'block';
    } else if (sectionNumber === 3) {
        // Automatically show Section 4 after Section 3 is completed
        document.getElementById('section4').style.display = 'block';
    }
}

    function completeSection(sectionNumber) {
        const nextSection = document.getElementById(`section${sectionNumber + 1}`);
        if (nextSection) {
            nextSection.style.display = 'block';
            const inputs = nextSection.querySelectorAll('input');
            inputs.forEach(input => input.disabled = false);
            const button = nextSection.querySelector('button');
            button.disabled = false;
        }

        const currentSection = document.getElementById(`section${sectionNumber}`);
        currentSection.querySelector('.section-content').style.display = 'none';

        if (sectionNumber === 1) {
            // Automatically show Section 2 and 3 after Section 1 is completed
            document.getElementById('section2').style.display = 'block';
            document.getElementById('section3').style.display = 'block';
        } else if (sectionNumber === 2) {
        // Automatically show Section 3 after Section 2 is completed
        document.getElementById('section3').style.display = 'block';
    }
    }

    function checkProjectName() {
        const projectNameInput = document.getElementById('standaloneInput').value;
        const sectionTitles = document.querySelectorAll('.section-title');

        sectionTitles.forEach(title => {
            if (projectNameInput.trim() !== '') {
                title.style.pointerEvents = 'auto'; // Enable click
                title.style.color = 'black'; // Change color to active
                title.style.cursor = 'pointer'; // Change cursor to pointer
            } else {
                title.style.pointerEvents = 'none'; // Disable click
                title.style.color = 'gray'; // Change color to inactive
                title.style.cursor = 'not-allowed'; // Change cursor to not-allowed
            }
        });
    }
</script>

</body>
</html>
